Master project on automated geographical alignment of large point clouds through their simplification.

TODOs:
-	Collect and review State-of-the-art publications. -> done
-	Test state of the art algos with our PCs. -> done
	-	KFPCS: Does not work at all!
	-	SAC-IA: Does not Work
	-	Tryed to test [24] but i did not manage to compile the code.
-	Clean plane segmentation algorithm and port it to PCL. -> done
-	Plane merging -> done first pass
-	Find rotation using normal vector alignment
	-	Wahba's problem : http://www.stat.wisc.edu/~wahba/ftp1/oldie/wahbasproblem.pdf
	-	With solution -> Davenport's Q-Method : https://math.stackexchange.com/questions/1634113/davenports-q-method-finding-an-orientation-matching-a-set-of-point-samples?rq=1
		Davenport's paper: https://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/19680021122.pdf
-	Find Translation
-	Test results
-	Report

Papers:
	-	Efficient Global Point Cloud Alignment Using Bayesian Nonparametric Mixtures.
		1.	Align two similar point clouds -> The sample of "harder" point cloud used to test the algo has an average overlap of 84%, LIDAR scans.

	-	Automated markerless registration of point clouds from TLS and structured light scanner for heritage documentation.
		https://www.sciencedirect.com/science/article/pii/S1296207418302930?dgcid=author

	-	Full automatic registration of laser scanner point clouds
		https://www.researchgate.net/publication/246261880_Full_automatic_registration_of_laser_scanner_point_clouds

		It uses markers on the objects to transform each local point cloud into the ground coordinates.

	-	AUTOMATIC REGISTRATION OF TERRESTRIAL LASER SCANNER POINT CLOUDS USING NATURAL PLANAR SURFACES
	https://www.researchgate.net/publication/266581225_Automatic_registration_of_terrestrial_laser_scanner_point_clouds_using_natural_planar_surfaces

	First find tie points and match them between planes to obtain a coarse registration, then use a fine registration process like ICP.

	-	Point cloud alignment: ICP methods compared
	https://www.codeproject.com/Articles/865830/Point-cloud-alignment-ICP-methods-compared
		-	4 Implementations of ICP compared, with mathematical background.

	-	Fast Point Feature Histograms (FPFH) for 3D Registration
	http://www.cvl.iis.u-tokyo.ac.jp/class2017/2017w/papers/5.3DdataProcessing/Rusu_FPFH_ICRA2009.pdf

		1.	The algorithm used in PCL to perform point cloud alignment/registration, based on point feature histogram.

	-	4-Points Congruent Sets for Robust Pairwise Surface Registration
	http://vecg.cs.ucl.ac.uk/Projects/SmartGeometry/fpcs/paper_docs/fpcs_sig_08.pdf

		1. There is an experimental implementation of this algo in CloudCompare. But it crashes...

	- Generalizing Hough Transform to detect arbitrary shapes
	http://www.eng.tau.ac.il/~cvapps/Supplement/%5B%201981%20%5D%20Generalizing%20the%20Hough%20Transform%20to%20Detect%20Arbitrary%20Shapes.pdf

Tutorials:
	-	Compile and install PCL on Ubuntu based systems: https://larrylisky.com/2014/03/03/installing-pcl-on-ubuntu/	
	-	Align a new point cloud to a template with PCL: http://pointclouds.org/documentation/tutorials/template_alignment.php

Lexique:
	-	NDT: Normal Distribution Transform
	-	ICP: Iterative Closest Point
	-	RANSAC: RANdom SAmple Consensus
	-	SAC-IA: SAmple Consensus Initial Alignment
	-	4PCS: Four Points Congruent Sets
	-	PCA: Principal Component Analysis
	-	Hough transform
	-	GMM: Gaussian Mixture Model
	-	KDE: Kernel Density Estimates
	-	Rigid transform: is a geometric transformation of a Euclidean space that preserves the Euclidean distance between every pair of points.
	-	SO(3): Special Orthogonal matrices forming the 3D rotation group.
	-	SPC: the simultaneous pose and correspondence problem.
	-	SLAM: Simultaneous Localization And Mapping.
	-	Diameter of a point set: Given a set V of B points in ¢d, the diameter of V is the maximum Euclidean distance between any two points of V.


Common Tools and implemented registration algorithms:
	-	CloudCompare:
			1. ICP
			2. Picking point pairs: Not automated
	-	PCL:
			1. SAC-IA[11]
			2. FPCS[14]
			3. KFPCS[23]
			3. a lot more: http://docs.pointclouds.org/1.8.1/group__registration.html

Background work:

Related Work:
	There exists local and global methods, achieving respectively fine and coarse registration/alignment.
	- Local: These methods assume an initialization close to the optimal transformation and significant overlap between the two point clouds, or they become unreliable and tend to get stuck in local minima.
		1. ICP [1, 2]: The most common. Many variants using different cost functions and minimization processes.
		2. NDT [3, 4]: Normal distribution transforms represents the scans as a stuctured GMM. Has been shown to be more robust than ICP in certain cases[5].
		3. Methods using correlation of KDE for alignment[6]. Scale poorly with number of points.
		4. Methods using GMMs[7]. mixture models infered by nonparametric clustering algorithms(DP-means[8], DP-vMF-means[9]). This enables processing of large PCs by compressing the data.

	- Global: These methods make no prior assumptions about the transformation or overlap. These are often used to initialise local methods.
		1. 3D-surface-feature-based algorithms: Consist of the following steps. Extract local features, obtain matches between features in the 2 PCs and finally estimate the relative pose using RANSAC[10] or other robust estimators[15].
			a. FPFH[11].
			b. Global registration using a new local descriptor: Integral volume descriptor[12].
			c. Computing spin images for each point, but is based on meshes[13].
			d. 4-Points congruent sets[14]. 4PCS is the state-of-the-art global registration algorithm.
		These are vulnerable to repetitive scene elements and large fraction of incorrect feature matches. The following papers tries to solve the later.
			e. Based on game theory[16].
			f. Fusion coarse and fine registration in 1 step. Try to optimize one objective function[17].

		4PCS enhancements:
			g. Keypoints-based-4PCS (KFPCS) [23]. Implemented in PCL.
		2. Statistical properties of the PCs:
			a. Separate rotational and translational alignment[18]. Rotation is obtained by maximizing the convolution of the peaks of the extended Gaussian images (EGI) of the two surface normal sets. After that the translation is found by fast fourier transform.
			b. Similarly for 2d scans.
			c. Branch and Bound Optimizations to search of rotation space: Axis aligned Rotation space search: Global search over SO(3) using Lipschitz optimization [20, 21]. GO-ICP[19]: Nests box and ball. GOGMA[22]: Use similar approach with a convolution of GMMs. All these approach are computationally expensive because the complexity of BB is exponential in the dimension.
			[24] Introduce a novel refinable tesselation consisting of a 4D tetrahedron to approximate the space of rotation more uniformly.

	I did only found algorithms that perform registration of point clouds to point clouds, or meshes to meshes. But nothing on the registration to a simplified form like basic blocks city mesh.



References:
	1. P. J. Besl and N. D. McKay. A method for registration of 3-D shapes. TPAMI, 14(2):239–256, 1992.
	2. S. Rusinkiewicz and M. Levoy. Efficient variants of the ICP algorithm. In 3-D Digital Imaging and Modeling, 2001.
	3. M. Magnusson, A. Lilienthal, and T. Duckett. Scan registration for autonomous mining vehicles using 3D-NDT. Journal of Field Robotics, 24(10):803–827, 2007.
	4. P. Biber and W. Straßer. The normal distributions transform: A new approach to laser scan matching. InIROS, 2003.
	5. M. Magnusson, A. Nüchter, C. Lörken, A. J. Lilienthal, and J. Hertzberg.  Evaluation of 3D registration reliability and speed-a comparison of ICP and NDT. In ICRA, 2009.
	6. Y. Tsin and T. Kanade. A correlation-based approach to robust point set registration. In ECCV, 2004.
	7. B. Jian and B. C. Vemuri. Robust point set registration using gaussian mixture models. PAMI, 33(8):1633–1645, 2011.
	8. B. Kulis and M. I. Jordan. Revisiting k-means: New algorithms via Bayesian nonparametrics. In ICML, 2012.
	9. J. Straub, T. Campbell, J. P. How, and J. W. Fisher III. Small-variance nonparametric clustering on the hypersphere.  In CVPR, 2015.
	10. M. Fischler and R. Bolles. Random sample consensus: a paradigm for model fitting with applications to image analysis and automated cartography. Communications of the ACM,24(6):381–395, 1981.
	11. R. B. Rusu, N. Blodow, and M. Beetz. Fast point feature histograms (FPFH) for 3D registration. In ICRA, 2009.
	12. N. Gelfand, N. J. Mitra, L. J. Guibas, and H. Pottmann. Robust global registration.  In Symposium on Geometry Processing, volume 2, page 5, 2005.
	13. A. E. Johnson and M. Hebert. Surface matching for object recognition in complex three-dimensional scenes. Image and Vision Computing, 16(9):635–651, 1998.
	14. D. Aiger, N. J. Mitra, and D. Cohen-Or. 4-points congruent sets for robust pairwise surface registration. In ACM TOG,volume 27, page 85, 2008.
	15. P. J. Huber.Robust statistics. Springer, 1981.
	16. A. Albarelli, E. Rodolà, and A. Torsello. Fast and accurate surface alignment through an isometry-enforcing game. Pattern Recognition, 48(7):2209–2226, 2015.
	17. Q.-Y. Zhou, J. Park, and V. Koltun. Fast global registration.In ECCV, 2016.
	18. A. Makadia, A. Patterson, and K. Daniilidis. Fully automatic registration of 3D point clouds. In CVPR, 2006.
	19. J. Yang, H. Li, and Y. Jia. Go-ICP: Solving 3D registration efficiently and globally optimally. In ICCV, 2013.
	20. H. Li and R. Hartley. The 3D-3D registration problem revisited. InICCV, 2007.
	21. R. I. Hartley and F. Kahl. Global optimization through rotation space search. IJCV, 82(1):64–79, 2009.
	22. D. Campbell and L. Petersson. Gogma: Globally-optimal gaussian mixture alignment. In CVPR, June 2016.
	23. Theiler, P., Wegner, J.D., & Schindler, K. (2013). MARKERLESS POINT CLOUD REGISTRATION WITH KEYPOINT-BASED 4-POINTS CONGRUENT SETS.
	24. Efficient Global Point Cloud Alignment using Bayesian Nonparametric Mixtures. Julian Straub, Trevor Campbell, Jonathan P. How, John W. Fisher III 